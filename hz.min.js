base=function(){this.isJson=function(c){try{var b=typeof(c)=="object"&&Object.prototype.toString.call(c).toLowerCase()=="[object object]"&&!c.length;return b}catch(a){return false}};this.isString=function(b){try{return typeof(b)=="string"}catch(a){return false}};this.isFunction=function(b){try{return typeof(b)=="function"}catch(a){return false}};this.isArray=function(b){try{return b instanceof Array}catch(a){return false}};this.attr=function(h,a,f){var c=[];for(var b=0;b<h.length;b++){if(f==1){if(nb.isString(a[0])){c.push(h[b].getAttribute(a[0]))}if(nb.isFunction(a[0])){c.push(a[0](this))}if(nb.isJson(a[0])){try{for(var d in a[0]){h[b].setAttribute(d,a[0][d])}}catch(g){c.push(false)}}}if(f==2){if(nb.isString(a[0])){if(nb.isString(a[1])){c.push(h[b].setAttribute(a[0],a[1]))}if(nb.isFunction(a[1])){c.push(h[b].setAttribute(a[0],a(a)))}}}}if(h.length==1){if(c.length>0){return c[0]}else{return null}}else{return c}};this.removeattr=function(f,b,e){var d=[];for(var c=0;c<f.length;c++){if(nb.isString(b[0])){if(f[c].hasAttribute(b[0])){d.push(f[c].removeAttribute(b[0]))}}if(nb.isArray(b[0])){for(var a=0;a<b[0].length;a++){if(nb.isString(b[0][a])){if(f[c].hasAttribute(b[0][a])){d.push(f[c].removeAttribute(b[0][a]))}}}}}if(f.length==1){if(d.length>0){return d[0]}else{return null}}else{return d}};this.html=function(e,a,d){var c=[];for(var b=0;b<e.length;b++){if(d==1){if(nb.isString(a[0])){e[b].innerHTML=a[0]}}else{c.push(e[b].innerHTML)}}if(e.length==1){if(c.length>0){return c[0]}else{return null}}else{return c}};this.hascss=function(f,b,e){var d=[];for(var c=0;c<f.length;c++){if(nb.isString(b[0])){if(f[c].hasAttribute(b[0])){d.push(f[c].removeAttribute(b[0]))}}if(nb.isArray(b[0])){for(var a=0;a<b[0].length;a++){if(nb.isString(b[0][a])){if(f[c].hasAttribute(b[0][a])){d.push(f[c].removeAttribute(b[0][a]))}}}}}if(f.length==1){if(d.length>0){return d[0]}else{return null}}else{return d}};this.css=function(h,a,f){var c=[];for(var b=0;b<h.length;b++){if(f==1){if(nb.isString(a[0])){c.push(h[b].getAttribute(a[0]))}if(nb.isFunction(a[0])){c.push(a[0](this))}if(nb.isJson(a[0])){try{for(var d in a[0]){h[b].setAttribute(d,a[0][d])}}catch(g){c.push(false)}}}if(f==2){if(nb.isString(a[0])){if(nb.isString(a[1])){c.push(h[b].setAttribute(a[0],a[1]))}if(nb.isFunction(a[1])){c.push(h[b].setAttribute(a[0],a(a)))}}}}if(h.length==1){if(c.length>0){return c[0]}else{return null}}else{return c}};this.removecss=function(f,b,e){var d=[];for(var c=0;c<f.length;c++){if(nb.isString(b[0])){if(f[c].hasAttribute(b[0])){d.push(f[c].removeAttribute(b[0]))}}if(nb.isArray(b[0])){for(var a=0;a<b[0].length;a++){if(nb.isString(b[0][a])){if(f[c].hasAttribute(b[0][a])){d.push(f[c].removeAttribute(b[0][a]))}}}}}if(f.length==1){if(d.length>0){return d[0]}else{return null}}else{return d}}};nb=new base();(function(a){var b=function(c){this.name="$";this.Author="黄智";this.nb=new base();if(c==null||c.length==0){return this}else{objs=document.querySelectorAll(c);if(objs.length>1){objs.attr=function(d){return nb.attr(this,arguments,arguments.length)};objs.removeattr=function(d){return nb.removeattr(this,arguments,arguments.length)};objs.html=function(d){return nb.html(this,arguments,arguments.length)};objs.hascss=function(d){return nb.hascss(this,arguments,arguments.length)};objs.css=function(d){return nb.css(this,arguments,arguments.length)};objs.removecss=function(d){return nb.removecss(this,arguments,arguments.length)};return objs}else{if(objs.length==1){objs[0].attr=function(d){return nb.attr(objs,arguments,arguments.length)};objs[0].removeattr=function(d){return nb.removeattr(objs,arguments,arguments.length)};objs[0].html=function(d){return nb.html(objs,arguments,arguments.length)};objs[0].hascss=function(d){return nb.hascss(objs,arguments,arguments.length)};objs[0].css=function(d){return nb.css(objs,arguments,arguments.length)};objs[0].removecss=function(d){return nb.removecss(objs,arguments,arguments.length)};return objs[0]}else{return null}}}this.test2=function(d){alert(d)}};b.ltrim=function(d){var c;for(c=0;c<d.length;c++){if(d.charAt(c)!=" "&&d.charAt(c)!=" "){break}}d=d.substring(c,d.length);return d};b.rtrim=function(d){var c;for(c=d.length-1;c>=0;c--){if(d.charAt(c)!=" "&&d.charAt(c)!=" "){break}}d=d.substring(0,c+1);return d};b.trim=function(c){return b.ltrim(b.rtrim(c))};b.parseJSON=function(c){obj=JSON.parse(c);obj.toString=function(){return JSON.stringify(this)};return obj};b.toJSONString=function(c){return JSON.stringify(c)};b.formatDatetime=function(e,c){var f={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};if(/(y+)/.test(c)){c=c.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))}for(var d in f){if(new RegExp("("+d+")").test(c)){c=c.replace(RegExp.$1,(RegExp.$1.length==1)?(f[d]):(("00"+f[d]).substr((""+f[d]).length)))}}return c};b.split=function(d,c){return d.split(c)};b.getURLParam=function(k,o){var l="";var n=o.toLowerCase();if(n.indexOf("?")>-1){var p=n.substr(n.indexOf("?")+1).toLowerCase();var j=p.split("&");for(var q=0;q<j.length;q++){if(j[q].indexOf(k.toLowerCase()+"=")==0){var i=j[q].split("=");l=i[1];break}}}return l};b.isJson=function(f){try{var d=typeof(f)=="object"&&Object.prototype.toString.call(f).toLowerCase()=="[object object]"&&!f.length;return d}catch(c){return false}};b.isString=function(d){try{return typeof(d)=="string"}catch(c){return false}};b.isFunction=function(d){try{return typeof(d)=="function"}catch(c){return false}};b.isArray=function(d){try{return d instanceof Array}catch(c){return false}};b.ready=function(c){if(document.readyState==="complete"){setTimeout(c,100)}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",c,false)}else{document.attachEvent("onreadystatechange",c)}}};b.toLower=function(c){return c.toLowerCase()};b.toUpper=function(c){return c.toUpperCase()};b.chineseNumber=function(k){if(isNaN(k)||k>Math.pow(10,12)){return""}var q="零壹贰叁肆伍陆柒捌玖";var r=new Array("拾百千","分角");var l=new Array("万亿","");var o=k.toString().split(".");var c=new Array(o[0].length-1,2);function d(j,i){var j=j.replace(/\d/g,function(s){return q.charAt(s)+r[i].charAt(c--%4?c%4:-1)});return j}for(var h=0;h<o.length;h++){var g="";for(var f=0;f*4<o[h].length;f++){var n=o[h].length-(f+1)*4;var p=o[h].substring(n,n+4);var c=h?2:p.length-1;var e=d(p,h);e=e.replace(/(零.)+/g,"零").replace(/零+$/,"");e=e.replace(/^壹拾/,"拾");g=(e+l[h].charAt(f-1))+g}o[h]=g}o[1]=o[1]?o[1]:"";o[0]=o[0]?o[0]+"元":o[0],o[1]=o[1].replace(/^零+/,"");o[1]=o[1].match(/分/)?o[1]:o[1]+"整";return o[0]+o[1]};b.floor=function(c){return Math.floor(c)};b.ceil=function(c){return Math.ceil(c)};b.round=function(c){return Math.round(c)};b.floatFixed=function(d,c){return d.toFixed(c)};b.floatMul=function(g,d){var c=0,h=g.toString(),f=d.toString();try{c+=h.split(".")[1].length}catch(i){}try{c+=f.split(".")[1].length}catch(i){}return Number(h.replace(".","")*f.replace(".","")/Math.pow(10,c))};b.floatAdd=function(h,f){var d=0,c=0,i=h.toString(),g=f.toString();try{d=i.split(".")[1].length}catch(j){}try{c=g.split(".")[1].length}catch(j){}m=Math.pow(10,Math.max(d,c));return(h*m+f*m)/m};b.floatSub=function(h,g){var f,d,c,j;try{f=h.toString().split(".")[1].length}catch(i){f=0}try{d=g.toString().split(".")[1].length}catch(i){d=0}c=Math.pow(10,Math.max(f,d));j=(f>=d)?f:d;return((h*c-g*c)/c).toFixed(j)};b.back=function(){historys=JSON.parse(localStorage.getItem("historys"));if(historys.length>0){var c=historys.indexOf(a.location.href);if(c){a.location.href=historys[c-1]}}};b.forward=function(){historys=JSON.parse(localStorage.getItem("historys"));if(historys.length>0){var c=historys.indexOf(a.location.href);if(c<historys.length-1){a.location.href=historys[c+1]}}};a.$=b;b.ready(function(){if(localStorage.getItem("historys")){historys=JSON.parse(localStorage.getItem("historys"));if(historys.indexOf(a.location.href)<0){historys[historys.length]=a.location.href}}else{historys[historys.length]=a.location.href}localStorage.setItem("historys",JSON.stringify(historys))})})(window);
